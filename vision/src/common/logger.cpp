#include <common/logger.hpp>

namespace common {

//--------------------------------------------------------------------------------------------------
// Constructor and destructor
//--------------------------------------------------------------------------------------------------

Logger::Logger(std::string const& filename)
: filename_ (filename),
  logfile_  (filename, std::ofstream::out | std::ofstream::trunc)
{
  logfile_.close();
}

//--------------------------------------------------------------------------------------------------
// Methods
//--------------------------------------------------------------------------------------------------

void Logger::init(std::string const& filename)
{
  global_logger_ptr.reset(new Logger(filename));
}

//--------------------------------------------------------------------------------------------------
// Global variable definition
//--------------------------------------------------------------------------------------------------

Logger::UniquePtr global_logger_ptr = nullptr;

//--------------------------------------------------------------------------------------------------

} // namespace common
